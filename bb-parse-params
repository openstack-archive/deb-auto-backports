#!/bin/sh

# Manage parameters of this script
usage () {
    echo "Usage: ./bb <source-package> [-d <DISTRO>]"
    echo " -d <DISTRO>: Define from which distro to backport"
    echo "Called with: ${BB_ALL_PARAMS}"
    exit 1
}

bb_parse_params () {
    BB_ALL_PARAMS="$@"
    PKG_NAME=${1}
    shift
    UPLOAD=no
    SRC_DISTRO=sid
    DOWNLOAD_FROM_JESSIE_BACKPORTS="no"
    PARAM_ERROR="no"
    for i in $@ ; do
        case ${i} in
        "-d")
            if [ -z "${2}" ] || [ -z "${3}" ] ; then usage ; fi
            SRC_DISTRO=${2}
            shift
            shift
        ;;
        "--download-from-jessie-backports")
            DOWNLOAD_FROM_JESSIE_BACKPORTS="yes"
            SRC_DISTRO=jessie-backports
            shift
        ;;
        *)
        ;;
        esac
    done
    if [ -z "${PKG_NAME}" ] ; then
        PARAM_ERROR="yes"
    fi
}
